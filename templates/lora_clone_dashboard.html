<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoRA Digital Clone Development Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .status-indicator { width: 12px; height: 12px; border-radius: 50%; display: inline-block; margin-right: 8px; }
        .status-active { background-color: #10b981; }
        .status-training { background-color: #f59e0b; }
        .status-inactive { background-color: #6b7280; }
        .status-failed { background-color: #ef4444; }
        .upload-zone { border: 2px dashed #d1d5db; transition: all 0.3s ease; }
        .upload-zone.dragover { border-color: #3b82f6; background-color: #eff6ff; }
        .progress-bar { background: linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="gradient-bg shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fas fa-robot text-white text-2xl mr-3"></i>
                    <h1 class="text-white text-xl font-bold">LoRA Digital Clone Development</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="text-white hover:text-gray-200">
                        <i class="fas fa-bell"></i>
                    </button>
                    <button class="text-white hover:text-gray-200">
                        <i class="fas fa-user-circle text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" x-data="cloneDashboard()">
        <!-- Dashboard Overview -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-gray-900 mb-2">Digital Clone Development Center</h2>
            <p class="text-gray-600">Manage your LoRA digital clones, training data, and deployment pipeline</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow card-hover p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                        <i class="fas fa-robot text-2xl"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-lg font-semibold text-gray-900" x-text="stats.totalClones"></h3>
                        <p class="text-gray-600">Total Clones</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow card-hover p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-green-100 text-green-600">
                        <i class="fas fa-check-circle text-2xl"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-lg font-semibold text-gray-900" x-text="stats.activeClones"></h3>
                        <p class="text-gray-600">Active Clones</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow card-hover p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-yellow-100 text-yellow-600">
                        <i class="fas fa-brain text-2xl"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-lg font-semibold text-gray-900" x-text="stats.trainingJobs"></h3>
                        <p class="text-gray-600">Training Jobs</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow card-hover p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                        <i class="fas fa-microphone text-2xl"></i>
                    </div>
                    <div class="ml-4">
                        <h3 class="text-lg font-semibold text-gray-900" x-text="stats.synthesisJobs"></h3>
                        <p class="text-gray-600">Synthesis Jobs</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <div class="bg-white rounded-lg shadow mb-8">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                    <button @click="activeTab = 'clones'" 
                            :class="activeTab === 'clones' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm">
                        <i class="fas fa-robot mr-2"></i>Digital Clones
                    </button>
                    <button @click="activeTab = 'training'" 
                            :class="activeTab === 'training' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm">
                        <i class="fas fa-brain mr-2"></i>Training Pipeline
                    </button>
                    <button @click="activeTab = 'synthesis'" 
                            :class="activeTab === 'synthesis' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm">
                        <i class="fas fa-microphone mr-2"></i>Voice Synthesis
                    </button>
                    <button @click="activeTab = 'video'" 
                            :class="activeTab === 'video' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm">
                        <i class="fas fa-video mr-2"></i>Video Avatar
                    </button>
                    <button @click="activeTab = 'deployment'" 
                            :class="activeTab === 'deployment' ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'"
                            class="whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm">
                        <i class="fas fa-rocket mr-2"></i>Deployment
                    </button>
                </nav>
            </div>

            <!-- Digital Clones Tab -->
            <div x-show="activeTab === 'clones'" class="p-6">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-900">Digital Clone Management</h3>
                    <button @click="showCreateCloneModal = true" 
                            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium">
                        <i class="fas fa-plus mr-2"></i>Create New Clone
                    </button>
                </div>

                <!-- Clone List -->
                <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6">
                    <template x-for="clone in clones" :key="clone.id">
                        <div class="bg-gray-50 rounded-lg p-6 card-hover">
                            <div class="flex items-center justify-between mb-4">
                                <h4 class="text-lg font-medium text-gray-900" x-text="clone.name"></h4>
                                <span :class="getStatusClass(clone.training_status)" class="status-indicator"></span>
                            </div>
                            <p class="text-gray-600 text-sm mb-4" x-text="clone.description"></p>
                            
                            <div class="space-y-2 mb-4">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-500">Voice Quality:</span>
                                    <span class="font-medium" x-text="(clone.voice_quality_score * 100).toFixed(1) + '%'"></span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-500">Training Progress:</span>
                                    <span class="font-medium" x-text="clone.training_progress.toFixed(1) + '%'"></span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-500">Usage Count:</span>
                                    <span class="font-medium" x-text="clone.usage_count"></span>
                                </div>
                            </div>
                            
                            <div class="flex space-x-2">
                                <button @click="viewCloneDetails(clone.id)" 
                                        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded text-sm">
                                    <i class="fas fa-eye mr-1"></i>View
                                </button>
                                <button @click="trainClone(clone.id)" 
                                        class="flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded text-sm">
                                    <i class="fas fa-brain mr-1"></i>Train
                                </button>
                                <button @click="synthesizeVoice(clone.id)" 
                                        class="flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 px-3 rounded text-sm">
                                    <i class="fas fa-microphone mr-1"></i>Speak
                                </button>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Training Pipeline Tab -->
            <div x-show="activeTab === 'training'" class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Upload Training Data -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Upload Training Data</h3>
                        <div class="upload-zone rounded-lg p-8 text-center cursor-pointer" 
                             @drop.prevent="handleFileDrop($event)" 
                             @dragover.prevent="$event.target.classList.add('dragover')"
                             @dragleave.prevent="$event.target.classList.remove('dragover')">
                            <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                            <p class="text-lg font-medium text-gray-700 mb-2">Drop audio/video files here</p>
                            <p class="text-gray-500 mb-4">or click to browse</p>
                            <input type="file" multiple accept="audio/*,video/*" class="hidden" id="trainingFiles">
                            <button onclick="document.getElementById('trainingFiles').click()" 
                                    class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg">
                                Select Files
                            </button>
                        </div>
                        
                        <!-- File List -->
                        <div x-show="uploadedFiles.length > 0" class="mt-6">
                            <h4 class="font-medium text-gray-900 mb-3">Uploaded Files</h4>
                            <template x-for="file in uploadedFiles" :key="file.id">
                                <div class="flex items-center justify-between bg-white p-3 rounded border mb-2">
                                    <div class="flex items-center">
                                        <i class="fas fa-file-audio text-blue-600 mr-3"></i>
                                        <div>
                                            <p class="font-medium text-sm" x-text="file.name"></p>
                                            <p class="text-gray-500 text-xs" x-text="file.size + ' MB'"></p>
                                        </div>
                                    </div>
                                    <button @click="removeFile(file.id)" class="text-red-600 hover:text-red-800">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </template>
                        </div>
                    </div>

                    <!-- Training Status -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Training Status</h3>
                        <template x-for="job in trainingJobs" :key="job.id">
                            <div class="bg-white border rounded-lg p-4 mb-4">
                                <div class="flex items-center justify-between mb-3">
                                    <h4 class="font-medium" x-text="job.session_name"></h4>
                                    <span :class="getStatusBadgeClass(job.status)" 
                                          class="px-2 py-1 rounded-full text-xs font-medium" 
                                          x-text="job.status.charAt(0).toUpperCase() + job.status.slice(1)"></span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                                    <div class="progress-bar h-2 rounded-full" 
                                         :style="`width: ${job.progress}%`"></div>
                                </div>
                                <div class="flex justify-between text-sm text-gray-600">
                                    <span x-text="job.current_step || 'Waiting to start'"></span>
                                    <span x-text="job.progress.toFixed(1) + '%'"></span>
                                </div>
                            </div>
                        </template>
                        
                        <button @click="startTraining()" 
                                class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-medium">
                            <i class="fas fa-play mr-2"></i>Start Training
                        </button>
                    </div>
                </div>
            </div>

            <!-- Voice Synthesis Tab -->
            <div x-show="activeTab === 'synthesis'" class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Synthesis Input -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Voice Synthesis</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Select Clone</label>
                                <select x-model="selectedCloneId" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="">Choose a clone...</option>
                                    <template x-for="clone in clones" :key="clone.id">
                                        <option :value="clone.id" x-text="clone.name"></option>
                                    </template>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Text to Synthesize</label>
                                <textarea x-model="synthesisText" 
                                          rows="6" 
                                          class="w-full border border-gray-300 rounded-lg px-3 py-2"
                                          placeholder="Enter the text you want the clone to speak..."></textarea>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Stability</label>
                                    <input type="range" x-model="voiceSettings.stability" 
                                           min="0" max="1" step="0.1" 
                                           class="w-full">
                                    <span class="text-sm text-gray-500" x-text="voiceSettings.stability"></span>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Similarity</label>
                                    <input type="range" x-model="voiceSettings.similarity" 
                                           min="0" max="1" step="0.1" 
                                           class="w-full">
                                    <span class="text-sm text-gray-500" x-text="voiceSettings.similarity"></span>
                                </div>
                            </div>
                            
                            <button @click="synthesizeVoiceFromText()" 
                                    :disabled="!selectedCloneId || !synthesisText" 
                                    class="w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium">
                                <i class="fas fa-microphone mr-2"></i>Generate Voice
                            </button>
                        </div>
                    </div>

                    <!-- Synthesis Results -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Generated Audio</h3>
                        <template x-for="result in synthesisResults" :key="result.id">
                            <div class="bg-white border rounded-lg p-4 mb-4">
                                <div class="flex items-center justify-between mb-3">
                                    <h4 class="font-medium" x-text="result.text.substring(0, 50) + '...'"></h4>
                                    <span class="text-sm text-gray-500" x-text="result.duration + 's'"></span>
                                </div>
                                <audio controls class="w-full mb-3" x-show="result.audioUrl">
                                    <source :src="result.audioUrl" type="audio/wav">
                                </audio>
                                <div class="flex space-x-2">
                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-download mr-1"></i>Download
                                    </button>
                                    <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-video mr-1"></i>Create Video
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- Video Avatar Tab -->
            <div x-show="activeTab === 'video'" class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Avatar Generation -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Video Avatar Generation</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Clone & Script</label>
                                <select x-model="videoConfig.cloneId" class="w-full border border-gray-300 rounded-lg px-3 py-2 mb-3">
                                    <option value="">Choose a clone...</option>
                                    <template x-for="clone in clones" :key="clone.id">
                                        <option :value="clone.id" x-text="clone.name"></option>
                                    </template>
                                </select>
                                <textarea x-model="videoConfig.script" 
                                          rows="4" 
                                          class="w-full border border-gray-300 rounded-lg px-3 py-2"
                                          placeholder="Enter script for avatar presentation..."></textarea>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Avatar Style</label>
                                    <select x-model="videoConfig.style" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        <option value="professional">Professional</option>
                                        <option value="casual">Casual</option>
                                        <option value="presenter">Presenter</option>
                                        <option value="expert">Expert</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Resolution</label>
                                    <select x-model="videoConfig.resolution" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        <option value="1920x1080">1080p</option>
                                        <option value="1280x720">720p</option>
                                        <option value="3840x2160">4K</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="flex items-center space-x-4">
                                <label class="flex items-center">
                                    <input type="checkbox" x-model="videoConfig.includeGestures" class="mr-2">
                                    Include Gestures
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" x-model="videoConfig.addBranding" class="mr-2">
                                    Add Branding
                                </label>
                            </div>
                            
                            <button @click="generateAvatarVideo()" 
                                    :disabled="!videoConfig.cloneId || !videoConfig.script"
                                    class="w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white py-3 rounded-lg font-medium">
                                <i class="fas fa-video mr-2"></i>Generate Avatar Video
                            </button>
                        </div>
                    </div>

                    <!-- Video Results -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Generated Videos</h3>
                        <template x-for="video in videoResults" :key="video.id">
                            <div class="bg-white border rounded-lg p-4 mb-4">
                                <div class="flex items-center justify-between mb-3">
                                    <h4 class="font-medium" x-text="video.title"></h4>
                                    <span class="text-sm text-gray-500" x-text="video.duration + 's'"></span>
                                </div>
                                <div class="bg-gray-200 rounded aspect-video flex items-center justify-center mb-3">
                                    <i class="fas fa-play-circle text-4xl text-gray-400"></i>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-play mr-1"></i>Preview
                                    </button>
                                    <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-download mr-1"></i>Download
                                    </button>
                                    <button class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-rocket mr-1"></i>Deploy
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>

            <!-- Deployment Tab -->
            <div x-show="activeTab === 'deployment'" class="p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Deployment Targets -->
                    <div class="lg:col-span-2">
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Deployment Targets</h3>
                        <template x-for="target in deploymentTargets" :key="target.id">
                            <div class="bg-white border rounded-lg p-4 mb-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <h4 class="font-medium" x-text="target.target_name"></h4>
                                        <p class="text-sm text-gray-500" x-text="target.platform + ' • ' + target.target_type"></p>
                                    </div>
                                    <span :class="getStatusClass(target.status)" class="status-indicator"></span>
                                </div>
                                <div class="flex justify-between text-sm text-gray-600 mb-3">
                                    <span>Usage: <span x-text="target.usage_count"></span> times</span>
                                    <span>Duration: <span x-text="target.total_duration"></span> min</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-edit mr-1"></i>Configure
                                    </button>
                                    <button class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-play mr-1"></i>Activate
                                    </button>
                                    <button class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm">
                                        <i class="fas fa-stop mr-1"></i>Stop
                                    </button>
                                </div>
                            </div>
                        </template>
                    </div>

                    <!-- Quick Deploy -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-900 mb-4">Quick Deploy</h3>
                        <div class="bg-white border rounded-lg p-4">
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Platform</label>
                                    <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        <option>Zoom Integration</option>
                                        <option>YouTube Live</option>
                                        <option>Teams Meeting</option>
                                        <option>Custom Webhook</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Clone</label>
                                    <select class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                        <template x-for="clone in clones" :key="clone.id">
                                            <option :value="clone.id" x-text="clone.name"></option>
                                        </template>
                                    </select>
                                </div>
                                <button class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg font-medium">
                                    <i class="fas fa-rocket mr-2"></i>Deploy Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Clone Modal -->
        <div x-show="showCreateCloneModal" 
             class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
             @click.away="showCreateCloneModal = false">
            <div class="bg-white rounded-lg p-6 w-full max-w-md mx-4">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">Create New Digital Clone</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Clone Name</label>
                        <input type="text" x-model="newClone.name" 
                               class="w-full border border-gray-300 rounded-lg px-3 py-2"
                               placeholder="Enter clone name...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea x-model="newClone.description" 
                                  rows="3" 
                                  class="w-full border border-gray-300 rounded-lg px-3 py-2"
                                  placeholder="Describe this clone..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Owner</label>
                        <input type="text" x-model="newClone.owner" 
                               class="w-full border border-gray-300 rounded-lg px-3 py-2"
                               placeholder="Clone owner...">
                    </div>
                </div>
                <div class="flex space-x-3 mt-6">
                    <button @click="showCreateCloneModal = false" 
                            class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 rounded-lg">
                        Cancel
                    </button>
                    <button @click="createNewClone()" 
                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg">
                        Create Clone
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function cloneDashboard() {
            return {
                activeTab: 'clones',
                showCreateCloneModal: false,
                selectedCloneId: '',
                synthesisText: '',
                
                stats: {
                    totalClones: 5,
                    activeClones: 3,
                    trainingJobs: 2,
                    synthesisJobs: 7
                },
                
                voiceSettings: {
                    stability: 0.5,
                    similarity: 0.7
                },
                
                videoConfig: {
                    cloneId: '',
                    script: '',
                    style: 'professional',
                    resolution: '1920x1080',
                    includeGestures: true,
                    addBranding: false
                },
                
                newClone: {
                    name: '',
                    description: '',
                    owner: ''
                },
                
                clones: [
                    {
                        id: 1,
                        name: "Dr. Dédé Executive",
                        description: "Professional executive persona for board meetings and presentations",
                        training_status: "completed",
                        voice_quality_score: 0.92,
                        training_progress: 100,
                        usage_count: 47
                    },
                    {
                        id: 2,
                        name: "Consultation Expert",
                        description: "Specialized in client consultations and technical discussions",
                        training_status: "training",
                        voice_quality_score: 0.78,
                        training_progress: 73,
                        usage_count: 12
                    },
                    {
                        id: 3,
                        name: "Content Creator",
                        description: "Optimized for video content and social media presentations",
                        training_status: "completed",
                        voice_quality_score: 0.88,
                        training_progress: 100,
                        usage_count: 89
                    }
                ],
                
                trainingJobs: [
                    {
                        id: 1,
                        session_name: "Executive Voice Training v2.1",
                        status: "running",
                        progress: 67,
                        current_step: "Fine-tuning LoRA adapters"
                    },
                    {
                        id: 2,
                        session_name: "Consultation Expert Enhancement",
                        status: "pending",
                        progress: 0,
                        current_step: "Waiting for GPU allocation"
                    }
                ],
                
                synthesisResults: [
                    {
                        id: 1,
                        text: "Welcome to our quarterly business review. Today we'll discuss...",
                        duration: 45.2,
                        audioUrl: "/api/lora/synthesis/result/1/audio"
                    }
                ],
                
                videoResults: [
                    {
                        id: 1,
                        title: "Q4 Executive Presentation",
                        duration: 120,
                        thumbnailUrl: "/api/lora/video/result/1/thumbnail"
                    }
                ],
                
                deploymentTargets: [
                    {
                        id: 1,
                        target_name: "Executive Board Meetings",
                        platform: "Zoom",
                        target_type: "consultation",
                        status: "active",
                        usage_count: 15,
                        total_duration: 480
                    },
                    {
                        id: 2,
                        target_name: "YouTube Content Channel",
                        platform: "YouTube",
                        target_type: "content",
                        status: "inactive",
                        usage_count: 23,
                        total_duration: 1200
                    }
                ],
                
                uploadedFiles: [],
                
                // Methods
                getStatusClass(status) {
                    const classes = {
                        'active': 'status-active',
                        'completed': 'status-active',
                        'training': 'status-training',
                        'running': 'status-training',
                        'inactive': 'status-inactive',
                        'failed': 'status-failed',
                        'pending': 'status-inactive'
                    };
                    return classes[status] || 'status-inactive';
                },
                
                getStatusBadgeClass(status) {
                    const classes = {
                        'running': 'bg-yellow-100 text-yellow-800',
                        'completed': 'bg-green-100 text-green-800',
                        'failed': 'bg-red-100 text-red-800',
                        'pending': 'bg-gray-100 text-gray-800'
                    };
                    return classes[status] || 'bg-gray-100 text-gray-800';
                },
                
                async createNewClone() {
                    try {
                        const response = await fetch('/api/lora/clones', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(this.newClone)
                        });
                        
                        if (response.ok) {
                            const newClone = await response.json();
                            this.clones.push(newClone);
                            this.newClone = { name: '', description: '', owner: '' };
                            this.showCreateCloneModal = false;
                            this.stats.totalClones++;
                        }
                    } catch (error) {
                        console.error('Error creating clone:', error);
                    }
                },
                
                async synthesizeVoiceFromText() {
                    try {
                        const response = await fetch('/api/lora/synthesis', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                clone_id: this.selectedCloneId,
                                text: this.synthesisText,
                                voice_settings: this.voiceSettings
                            })
                        });
                        
                        if (response.ok) {
                            const result = await response.json();
                            this.synthesisResults.unshift(result);
                            this.synthesisText = '';
                        }
                    } catch (error) {
                        console.error('Error synthesizing voice:', error);
                    }
                },
                
                async generateAvatarVideo() {
                    try {
                        const response = await fetch('/api/lora/video/generate', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(this.videoConfig)
                        });
                        
                        if (response.ok) {
                            const result = await response.json();
                            this.videoResults.unshift(result);
                            this.videoConfig.script = '';
                        }
                    } catch (error) {
                        console.error('Error generating video:', error);
                    }
                },
                
                handleFileDrop(event) {
                    const files = Array.from(event.dataTransfer.files);
                    this.processUploadedFiles(files);
                    event.target.classList.remove('dragover');
                },
                
                processUploadedFiles(files) {
                    files.forEach(file => {
                        this.uploadedFiles.push({
                            id: Date.now() + Math.random(),
                            name: file.name,
                            size: (file.size / 1024 / 1024).toFixed(2)
                        });
                    });
                },
                
                removeFile(fileId) {
                    this.uploadedFiles = this.uploadedFiles.filter(f => f.id !== fileId);
                },
                
                // Initialize
                init() {
                    // Setup file input change handler
                    document.getElementById('trainingFiles').addEventListener('change', (e) => {
                        this.processUploadedFiles(Array.from(e.target.files));
                    });
                    
                    // Load initial data
                    this.loadDashboardData();
                },
                
                async loadDashboardData() {
                    try {
                        // Load clones
                        const clonesResponse = await fetch('/api/lora/clones');
                        if (clonesResponse.ok) {
                            this.clones = await clonesResponse.json();
                        }
                        
                        // Load training jobs
                        const jobsResponse = await fetch('/api/lora/training/sessions');
                        if (jobsResponse.ok) {
                            this.trainingJobs = await jobsResponse.json();
                        }
                        
                        // Update stats
                        this.updateStats();
                    } catch (error) {
                        console.error('Error loading dashboard data:', error);
                    }
                },
                
                updateStats() {
                    this.stats.totalClones = this.clones.length;
                    this.stats.activeClones = this.clones.filter(c => c.training_status === 'completed').length;
                    this.stats.trainingJobs = this.trainingJobs.filter(j => j.status === 'running').length;
                }
            }
        }
    </script>
</body>
</html>